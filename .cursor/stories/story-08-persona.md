# Epic 8: User Persona & Advanced Recall (Personalization)

**Цель:** Превратить бота из "базы данных" в "персонального ассистента", который знает контекст пользователя и гибко настраивается.

## Шаг 8.1: Database Schema Update
- [ ] Добавить колонку `bio` (TEXT) в таблицу `users` — для "User Persona" (кто я, цели).
- [ ] Добавить колонку `recall_settings` (JSONB) в таблицу `users` — для настроек расписания и фокуса.
  - Структура: `{ "days": [1, 5], "time": "15:00", "frequency": 1, "focus": "Investors" }`

## Шаг 8.2: Команда /profile
- [ ] Создать хендлер `/profile`.
- [ ] Отображение текущего Bio и целей.
- [ ] Редактирование Bio (через диалог или команду).
- [ ] Системный промпт: научить агента использовать Bio для генерации советов.

## Шаг 8.3: Настройки Recall (UI)
- [ ] Расширить меню `/settings`.
- [ ] Кнопки выбора дней недели (Пн, Вт... Вс).
- [ ] Настройка "Фокус внимания" (например, "Ищу работу", "Фандрейзинг").

## Шаг 8.4: Интеграция в Recall Engine
- [ ] Обновить `recall_service.py`:
  - Читать настройки пользователя перед отправкой (пропускать, если сегодня не день рассылки).
  - Вставлять `user_bio` и `recall_focus` в промпт для LLM.
- [ ] Обновить промпт `recall_advisor`: добавить секцию "USER CONTEXT".

## Шаг 8.5: Улучшение Хуков (Hook Generation)
- [ ] Сделать генерацию хуков ("Твой ход" и т.д.) более разнообразной (или через LLM, или расширенный список).

**Критерий готовности:**
- Бот дает советы с учетом того, что я "Продакт ищу инвестора".
- Можно отключить напоминания в выходные.
- Можно задать тему напоминаний.

