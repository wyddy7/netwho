# Epic 1: Инициализация проекта и Инфраструктура

**Цель:** Подготовить фундамент проекта, настроить управление зависимостями через `uv`, конфигурацию и подключение к Supabase.

## Шаг 1.1: Инициализация окружения
- [ ] Установить `uv` (если не установлен).
- [ ] Инициализировать проект: `uv init netwho`.
- [ ] Добавить основные зависимости согласно ТЗ (раздел 9):
  ```bash
  uv add aiogram supabase apscheduler openai python-dotenv pydantic-settings tenacity pydub loguru
  ```
- [ ] Настроить `.gitignore` (исключить `.env`, `__pycache__`, `venv`, `.idea`, `.vscode`).

## Шаг 1.2: Конфигурация (Configuration Layer)
- [ ] Создать файл `.env` с заглушками (шаблон из ТЗ раздел 7.1).
- [ ] Реализовать `app/config.py` с использованием `pydantic-settings`.
  - [ ] Описать класс `Settings`.
  - [ ] Реализовать валидацию наличия обязательных ключей (`BOT_TOKEN`, `SUPABASE_URL`, `OPENROUTER_API_KEY`).
- [ ] Настроить логгер `loguru` (формат, уровень логирования из конфига).

## Шаг 1.3: База данных (Supabase Setup)
- [ ] **Ручное действие:** Зайти в Supabase SQL Editor.
- [ ] Выполнить SQL-скрипт из ТЗ (Раздел 3.1) для создания таблиц:
  - [ ] `users`
  - [ ] `contacts` (с вектором)
  - [ ] `interactions`
- [ ] Выполнить создание индексов и RLS политик.
- [ ] Создать RPC функцию `match_contacts` (Раздел 3.3).

## Шаг 1.4: Клиент БД (Infrastructure Layer)
- [ ] Создать `app/infrastructure/supabase/client.py`.
- [ ] Реализовать инициализацию клиента Supabase (`create_client`).
- [ ] Проверить подключение простым запросом (например, select version или count users).

**Критерий готовности:**
- Проект запускается, конфиг читается, соединение с БД устанавливается без ошибок.

